<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>1.3 Setup Your Project And Connect To Your VM | Spark School</title>
<meta name="viewport" content="width=device-width">

<link href="https://fonts.googleapis.com/css?family=Open+Sans:700,700italic,400,400italic,300,300italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet" type="text/css">

<!-- Custom CSS -->
<link rel="stylesheet" href="/courses/assets/css/application.css">

        <!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '327777587588900'); // Insert your pixel ID here.
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=327777587588900&ev=PageView&noscript=1"
/></noscript>
<!-- DO NOT MODIFY -->
<!-- End Facebook Pixel Code -->

    </head>
    <body>
        <header>
    <div class="container">
        <nav class="pull-left">
            <a href="/" id="site-logo">Spark School</a>
        </nav>
        
            <h3 id="section-name" class="pull-right">Day 1: Getting Your Development Environment Setup</h3>
        
    </div>
</header>

        <main class="container">
            <article>
                <h1>1.3 Setup Your Project And Connect To Your VM</h1>
                <p>####Table Of Contents</p>

<ul>
  <li><a href="/courses/twitter-clone/1/1">1.1 Introduction</a></li>
  <li><a href="/courses/twitter-clone/1/2">1.2 Installing Tools</a></li>
  <li><strong>1.3 Setup Your Project And Connect To Your VM</strong></li>
  <li><a href="/courses/twitter-clone/1/4">1.4 Your First Javascript Program</a></li>
  <li><a href="/courses/twitter-clone/1/5">1.5 Writing Your First Web Server</a></li>
</ul>

<p>To set up our project, we need to create a place to store our project files and connect to our VM so we can develop our web app in it.</p>

<p>The first thing we need to do is create a folder for our project files.  I like to keep all of my projects on the Desktop, so we’ll be creating our project directory there.  Go to your Desktop and create a folder called “TwitterClone”.  This will be our project folder.</p>

<p>In software development, we call folders directories and it’s a good idea to name directories with no spaces so our directory names are easier to type.  In this tutorial, I use folder and directory interchangeably.</p>

<p>Now we need to create a Vagrant file to manage the VM settings for our project.  Vagrant expects this file to be in the root of your project and expects it to be called “Vagrantfile”.  Let’s create that file now.</p>

<p>When I refer to the root of the directory, I mean in the actual directory itself and not in a child directory.</p>

<p>Open Sublime Text 3 and go to File &gt; New File.  Now go to File &gt; Save As and save this file in our “TwitterClone” folder we just made and give it the name “Vagrantfile”.  Click save and you now have an empty Vagrantfile.</p>

<p>Our file doesn’t do anything yet since it’s blank, but we are going to fix that now.  Type the following code into the file and save:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Vagrantfile</span>
<span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"node-mysql"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">8080</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">8080</span>
<span class="k">end</span>
</code></pre></div></div>

<p>We aren’t going to cover Vagrant in detail, but I’ll explain what we are doing here. The first line is simply something we do so Vagrant knows we are setting configuration for our VM.  The indented lines inside of that are the important parts.</p>

<p>The first indented line tells Vagrant that we want to use the box that I made for the course called “node-mysql”.  This is a Ubuntu box that I created that is ready to go so you don’t have to install things like Node, MySQL, etc.</p>

<p>The next line forwards port 8080 from the VM to the host machine.  Our web server is going to run on port 8080 for development so we need to be able to access that. If you don’t know what ports are, don’t worry, I’ll explain them a little later.  For now, just know that our web server is going to run on our VM and this line let’s us access it from our browser.</p>

<p>###Connect To The VM</p>

<p>Now that we have defined what our VM will look like for our project, we need to start it and connect to it.  Our goal here is to start the VM on your computer so we can log into that run terminal commands in our VM.</p>

<p>In our Vagrantfile, we configured our VM to use the “node-mysql” box, but we haven’t told Vagrant where to find it yet.  Open your terminal (PowerShell on Windows. Terminal on OSX/Linux) and copy the following into your terminal.  Press enter to run it.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal (or PowerShell) on host computer</span>
vagrant box add <span class="nt">--name</span> node-mysql <span class="s2">"https://s3.amazonaws.com/spark-school/node-mysql.box"</span>
</code></pre></div></div>

<p>If this command fails to run saying there was an error, you might have to install an older version of vagrant.  Some people have contacted me telling me that they have ran into this issue and the fix is to download an older version.  <a href="https://releases.hashicorp.com/vagrant/">https://releases.hashicorp.com/vagrant/</a> Visit that link to see a list of vagrant versions you can download. I would try a version or two down from the top.  Click that and you will see a page with links to installers.  For windows download the “.msi” version and for OS X, download the “.dmg” version.</p>

<p>We have now added our “node-mysql” box to vagrant on our local machine.</p>

<p>To connect to our VM, Vagrant uses SSH. SSH stands for secure shell and is a protocol used to run commands on other computers that are not the host computer. The secure part means we need we need correct user authentication to run commands on the remote machine.  We are going to have a VM running on our computer which will act as a remote machine.  You don’t need to know much about SSH except that we are going to use it to log into our VM.</p>

<p>Let’s get started.  I’m going to explain the terminal later, but for right now, follow the instructions to start and log into your VM.  All terminal commands after this section will be run in our VM, so for the rest of the course, I’m going to assume you are logged in.  If you ever need help logging back into your VM, you can use <a href="/guides/logging-into-vagrant" target="_blank">this guide to logging into Vagrant</a>.  I’ll also add a link to the guide at the start of each day so it’s easy for you to access.</p>

<p>These instructions are specific to your operating system so scroll down to find the section for your OS.</p>

<p>####OS X/Linux</p>

<p>Assuming you created the “TwitterClone” folder on the Desktop, open the Mac application called “Terminal” in your Applications, and navigate to the project directory with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal on host computer</span>
<span class="nb">cd</span> ~/Desktop/TwitterClone
</code></pre></div></div>

<p>Type that into your terminal and press enter to run it.</p>

<p>Now that we are in our project directory, let’s start our VM with the “vagrant up” command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal on host computer</span>
vagrant up
</code></pre></div></div>

<p>Type that into your terminal and press enter.   This command takes some time to finish, so be patient.   If your Vagrantfile is correct, vagrant should start your VM and tell you everything worked successfully.</p>

<p>Now we have our VM running, let’s connect to it.  On Unix based operating systems, this is easy because we can run “vagrant ssh” and Vagrant will take care the our user authentication for us.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal on host computer</span>
vagrant ssh
</code></pre></div></div>

<p>Type that into your terminal and press enter.  You should see the last line of your terminal change format to look like this:</p>

<p><img src="https://s3.amazonaws.com/spark-school/courses/twitter-clone/1/ssh-login-to-vagrant.png" alt="" /></p>

<p>You are now logged into your VM and are ready to get started.  All terminal commands from here on out will assume you are logged into your VM.  If you ever need help getting logged back in, look back here as a reference.</p>

<p>####Windows</p>

<p>Assuming you created the “TwitterClone” folder on the Desktop, open “Windows Powershell” from the start menu.  I’ll refer to “Windows Powershell” as the terminal for the rest of this guide.  Let’s navigate to the project directory with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># PowerShell on host computer</span>
<span class="nb">cd</span> ~/Desktop/TwitterClone
</code></pre></div></div>

<p>Type that into your terminal and press enter to run it.</p>

<p>Now that we are in our project directory, let’s start our VM with the “vagrant up” command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># PowerShell on host computer</span>
vagrant up
</code></pre></div></div>

<p>Type that into the terminal and press enter.   This command takes some time to finish, so be patient.   If your Vagrantfile is correct, vagrant should start your VM and tell you everything worked successfully.</p>

<p>Now we have our VM running, let’s connect to it.  For Windows we are going to use Putty to log into our VM.</p>

<p>In order to log into our VM with Putty, we need login credentials.  Run the following command to get them:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># PowerShell on host computer</span>
vagrant ssh-config
</code></pre></div></div>

<p>Type that into your terminal and press enter.  You should see something like the following.</p>

<p><img src="https://s3.amazonaws.com/spark-school/courses/twitter-clone/1/windows-ssh-config.png" alt="" /></p>

<p>We are going to use this information to log into our VM with Putty.  Open Putty now and enter the hostname and port from our ssh-config command.</p>

<p><img src="https://s3.amazonaws.com/spark-school/courses/twitter-clone/1/logging-into-vagrant-with-putty.png" alt="" /></p>

<p>Click the “Open” button and you should see a screen asking you for “login as:” which is the username.  Type “vagrant” and press enter.  When it asks for a password, also type “vagrant” and press enter.  When typing the password, you won’t see any characters appear, but they are being entered.  Press enter and you should see the following prompt come up.</p>

<p><img src="https://s3.amazonaws.com/spark-school/courses/twitter-clone/1/putty-logged-into-vagrant.png" alt="" /></p>

<p>You are now logged into your VM on your Windows machine.</p>

<h3 id="final-code">Final Code</h3>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Vagrantfile</span>
<span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"node-mysql"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="s2">"forwarded_port"</span><span class="p">,</span> <span class="ss">guest: </span><span class="mi">8080</span><span class="p">,</span> <span class="ss">host: </span><span class="mi">8080</span>
<span class="k">end</span>
</code></pre></div></div>

                
                    <p class="text-center">
                        <a href="/courses/twitter-clone/1/4" class="next-lesson-button">
                            CLICK HERE TO GO TO THE NEXT LESSON
                        </a>
                    </p>
                
                
                    <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//spark-school.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


                
            </article>
        </main>
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85659117-1', 'auto');
  ga('send', 'pageview');
</script>

        <script type="text/javascript">
	var trackcmp_email = '';
	var trackcmp = document.createElement("script");
	trackcmp.async = true;
	trackcmp.type = 'text/javascript';
	trackcmp.src = '//trackcmp.net/visit?actid=649064395&e='+encodeURIComponent(trackcmp_email)+'&r='+encodeURIComponent(document.referrer)+'&u='+encodeURIComponent(window.location.href);
	var trackcmp_s = document.getElementsByTagName("script");
	if (trackcmp_s.length) {
		trackcmp_s[0].parentNode.appendChild(trackcmp);
	} else {
		var trackcmp_h = document.getElementsByTagName("head");
		trackcmp_h.length && trackcmp_h[0].appendChild(trackcmp);
	}
</script>

    </body>
</html>
